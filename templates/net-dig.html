{% extends "base.html" %}

{% block title %}DNS Lookup - Free Online DNS Query Tool | NetHub Network Tools{% endblock %}

{% block meta_description %}Free online DNS lookup tool to query DNS records directly against the domain's authoritative name server. Check A, AAAA, MX, CNAME, TXT, and other DNS record types for any domain name.{% endblock %}

{% block meta_keywords %}DNS lookup, DNS query, DNS records, A record, MX record, CNAME, TXT record, DNS checker, domain lookup, authoritative name server, DNS propagation{% endblock %}

{% block og_url %}/dig{% endblock %}

{% block content %}
<div class="container mt-5 pt-4">
    <!-- Header -->
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-primary mb-3">
            <i class="bi bi-globe me-3"></i>DNS Lookup
        </h1>
        <p class="lead text-muted">Query DNS records directly against the domain's authoritative name server for instant and accurate results</p>
    </div>

    <!-- SEO Content Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-primary mb-3">About DNS Lookup</h2>
                    <p class="text-muted mb-3">This test will list DNS records for a domain in priority order. The DNS lookup is done directly against the domain's authoritative name server, so changes to DNS Records should show up instantly. By default, the DNS lookup tool will return an IP address if you give it a name (e.g. www.example.com).</p>
                    
                    <p class="text-muted mb-3">Our DNS lookup tool provides comprehensive DNS record analysis, allowing you to check various record types including A, AAAA, MX, CNAME, TXT, NS, SOA, and more. This is essential for troubleshooting DNS issues, verifying domain configuration, and ensuring proper DNS propagation.</p>
                    
                    <div class="alert alert-info">
                        <h5 class="alert-heading"><i class="bi bi-info-circle me-2"></i>Authoritative DNS Lookup</h5>
                        <p class="mb-0">Unlike recursive DNS lookups that may return cached results, our tool queries the authoritative name servers directly, ensuring you get the most current and accurate DNS information available.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DNS Lookup Form -->
    <div class="card shadow-lg mb-5">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="bi bi-globe me-2"></i>DNS Lookup</h5>
        </div>
        <div class="card-body">
            <form method="POST" action="/net-dig" class="row g-3">
                <div class="col-md-6">
                    <label for="domain" class="form-label fw-bold">Domain Name</label>
                    <input 
                        type="text" 
                        id="domain" 
                        name="domain"
                        value="{{ domain or '' }}"
                        class="form-control form-control-lg" 
                        placeholder="example.com" 
                        required
                    >
                </div>
                <div class="col-md-6">
                    <label for="recordType" class="form-label fw-bold">Record Type</label>
                    <select id="recordType" name="record_type" class="form-select form-select-lg">
                        <option value="A" {% if record_type == 'A' %}selected{% endif %}>A (IPv4 Address)</option>
                        <option value="AAAA" {% if record_type == 'AAAA' %}selected{% endif %}>AAAA (IPv6 Address)</option>
                        <option value="MX" {% if record_type == 'MX' %}selected{% endif %}>MX (Mail Exchange)</option>
                        <option value="CNAME" {% if record_type == 'CNAME' %}selected{% endif %}>CNAME (Canonical Name)</option>
                        <option value="TXT" {% if record_type == 'TXT' %}selected{% endif %}>TXT (Text Record)</option>
                        <option value="NS" {% if record_type == 'NS' %}selected{% endif %}>NS (Name Server)</option>
                        <option value="SOA" {% if record_type == 'SOA' %}selected{% endif %}>SOA (Start of Authority)</option>
                        <option value="PTR" {% if record_type == 'PTR' %}selected{% endif %}>PTR (Pointer Record)</option>
                    </select>
                </div>
                <div class="col-12">
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="bi bi-globe me-2"></i>Lookup DNS Records
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Results -->
    {% if dig_results %}
    <div class="card border-0 shadow-sm" style="background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);">
        <div class="card-header border-0" style="background: transparent;">
            <div class="d-flex align-items-center">
                <div class="p-2 rounded-circle me-3" style="background: rgba(13, 110, 253, 0.1);">
                    <i class="bi bi-globe" style="color: #6c757d; font-size: 1.2rem;"></i>
                </div>
                <div>
                    <h5 class="mb-0 fw-bold" style="color: #6c757d;">DNS Lookup Results</h5>
                    <small style="color: #adb5bd;">DNS query for {{ dig_results.domain }} ({{ dig_results.query_type }} records)</small>
                </div>
            </div>
        </div>
        <div class="card-body p-4">
            {% if dig_results.success %}
                <!-- Query Summary -->
                {% if dig_results.summary %}
                <div class="row g-4 mb-4">
                    <div class="col-lg-3 col-md-6">
                        <div class="text-center p-4 rounded-3" style="background: #f8f9fa;">
                            <div class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px; background: rgba(13, 110, 253, 0.1);">
                                <i class="bi bi-clock" style="color: #0d6efd; font-size: 1.5rem;"></i>
                            </div>
                            <h6 class="mb-1" style="color: #6c757d;">Query Time</h6>
                            <h3 class="mb-0 fw-bold" style="color: #0d6efd;">{{ dig_results.summary.query_time }}ms</h3>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="text-center p-4 rounded-3" style="background: #f8f9fa;">
                            <div class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px; background: rgba(25, 135, 84, 0.1);">
                                <i class="bi bi-list-ul" style="color: #198754; font-size: 1.5rem;"></i>
                            </div>
                            <h6 class="mb-1" style="color: #6c757d;">Records Found</h6>
                            <h3 class="mb-0 fw-bold" style="color: #198754;">{{ dig_results.summary.record_count }}</h3>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="text-center p-4 rounded-3" style="background: #f8f9fa;">
                            <div class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px; background: rgba(13, 202, 240, 0.1);">
                                <i class="bi bi-check-circle" style="color: #0dcaf0; font-size: 1.5rem;"></i>
                            </div>
                            <h6 class="mb-1" style="color: #6c757d;">Status</h6>
                            <h3 class="mb-0 fw-bold" style="color: #0dcaf0;">{{ dig_results.summary.status }}</h3>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="text-center p-4 rounded-3" style="background: #f8f9fa;">
                            <div class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px; background: rgba(111, 66, 193, 0.1);">
                                <i class="bi bi-tag" style="color: #6f42c1; font-size: 1.5rem;"></i>
                            </div>
                            <h6 class="mb-1" style="color: #6c757d;">Record Type</h6>
                            <h3 class="mb-0 fw-bold" style="color: #6f42c1;">{{ dig_results.query_type }}</h3>
                        </div>
                    </div>
                </div>
                {% endif %}

                <!-- DNS Records -->
                {% if dig_results.records and dig_results.records|length > 0 %}
                <div class="mb-4">
                    <h6 class="fw-bold text-primary mb-3">
                        <i class="bi bi-list-ul me-2"></i>DNS Records
                    </h6>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Type</th>
                                    <th>Name</th>
                                    <th>Value</th>
                                    <th>TTL</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for record in dig_results.records %}
                                <tr>
                                    <td>
                                        {% if record.type == 'A' %}
                                            <span class="badge bg-primary">A</span>
                                        {% elif record.type == 'AAAA' %}
                                            <span class="badge bg-info">AAAA</span>
                                        {% elif record.type == 'MX' %}
                                            <span class="badge bg-success">MX</span>
                                        {% elif record.type == 'CNAME' %}
                                            <span class="badge bg-warning">CNAME</span>
                                        {% elif record.type == 'TXT' %}
                                            <span class="badge bg-secondary">TXT</span>
                                        {% elif record.type == 'NS' %}
                                            <span class="badge bg-dark">NS</span>
                                        {% elif record.type == 'SOA' %}
                                            <span class="badge bg-danger">SOA</span>
                                        {% elif record.type == 'PTR' %}
                                            <span class="badge bg-light text-dark">PTR</span>
                                        {% else %}
                                            <span class="badge bg-secondary">{{ record.type }}</span>
                                        {% endif %}
                                    </td>
                                    <td class="fw-semibold">{{ record.name }}</td>
                                    <td>
                                        <code class="text-break">{{ record.value }}</code>
                                    </td>
                                    <td>
                                        <span class="badge bg-light text-dark">{{ record.ttl }}s</span>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                {% else %}
                <div class="alert alert-warning" role="alert">
                    <i class="bi bi-exclamation-triangle me-2"></i>
                    <strong>No records found:</strong> No {{ dig_results.query_type }} records found for {{ dig_results.domain }}.
                </div>
                {% endif %}
            {% else %}
                <div class="alert alert-danger" role="alert">
                    <i class="bi bi-exclamation-triangle me-2"></i>
                    <strong>Query Failed:</strong> {{ dig_results.error }}
                </div>
            {% endif %}
            
            <!-- Raw Output -->
            {% if dig_results.raw_output %}
            <div class="mt-4">
                <h6 class="fw-bold text-primary mb-3">
                    <i class="bi bi-terminal me-2"></i>Raw Dig Output
                </h6>
                <pre class="bg-dark text-light p-3 rounded"><code>{{ dig_results.raw_output }}</code></pre>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- DNS Record Types Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-primary mb-3">DNS Record Types Explained</h2>
                    <p class="text-muted mb-3">Understanding different DNS record types is essential for proper domain configuration and troubleshooting. Here are the most common DNS record types:</p>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="text-primary">Basic Records</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>A Record</strong> - Maps domain to IPv4 address</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>AAAA Record</strong> - Maps domain to IPv6 address</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>CNAME Record</strong> - Creates alias to another domain</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>MX Record</strong> - Specifies mail server for domain</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5 class="text-primary">Advanced Records</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>TXT Record</strong> - Stores text information</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>NS Record</strong> - Specifies name servers</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>SOA Record</strong> - Start of Authority record</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>PTR Record</strong> - Reverse DNS lookup</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- How DNS Works Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-primary mb-3">How DNS Lookup Works</h2>
                    <p class="text-muted mb-3">The Domain Name System (DNS) is a hierarchical distributed naming system that translates human-readable domain names into IP addresses. Here's how the DNS lookup process works:</p>
                    
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                    <span class="fw-bold">1</span>
                                </div>
                                <h5 class="text-primary">Query Initiated</h5>
                                <p class="text-muted small">User enters domain name in browser or application</p>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                    <span class="fw-bold">2</span>
                                </div>
                                <h5 class="text-primary">Recursive Query</h5>
                                <p class="text-muted small">Local DNS resolver queries root servers</p>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                    <span class="fw-bold">3</span>
                                </div>
                                <h5 class="text-primary">Authoritative Query</h5>
                                <p class="text-muted small">Query reaches authoritative name servers</p>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="text-center">
                                <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                    <span class="fw-bold">4</span>
                                </div>
                                <h5 class="text-primary">Response</h5>
                                <p class="text-muted small">IP address returned to user's browser</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Use Cases Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-primary mb-3">Common Use Cases for DNS Lookup</h2>
                    <p class="text-muted mb-3">DNS lookup tools are essential for various network administration and troubleshooting tasks:</p>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="text-primary">Troubleshooting</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Diagnose DNS resolution issues</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Verify domain configuration</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Check DNS propagation status</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Debug email delivery problems</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5 class="text-primary">Configuration</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Verify DNS record changes</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Check subdomain configuration</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Validate SSL certificate setup</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Monitor DNS health</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Benefits Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-primary mb-3">Why Use Our DNS Lookup Tool?</h2>
                    <p class="text-muted mb-3">Our DNS lookup tool provides several advantages over standard DNS queries:</p>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="text-primary">For Network Administrators</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Direct authoritative server queries</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Instant DNS record verification</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Comprehensive record type support</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Real-time DNS change detection</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5 class="text-primary">For Developers & Webmasters</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Quick domain configuration checks</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Email server verification</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>Subdomain and alias testing</li>
                                <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i>DNS troubleshooting assistance</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-primary mb-4">Frequently Asked Questions</h2>
                    
                    <div class="accordion" id="dnsLookupFAQ">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq1">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
                                    What is the difference between recursive and authoritative DNS lookup?
                                </button>
                            </h2>
                            <div id="collapse1" class="accordion-collapse collapse" aria-labelledby="faq1" data-bs-parent="#dnsLookupFAQ">
                                <div class="accordion-body">
                                    Recursive DNS lookup queries multiple servers in a hierarchy, potentially returning cached results. Authoritative DNS lookup queries the domain's authoritative name servers directly, ensuring you get the most current and accurate DNS information without any caching delays.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                    How long does DNS propagation take?
                                </button>
                            </h2>
                            <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#dnsLookupFAQ">
                                <div class="accordion-body">
                                    DNS propagation typically takes 24-48 hours to complete globally, though most changes are visible within a few hours. The exact time depends on TTL (Time To Live) values and caching policies of various DNS servers around the world.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq3">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                    Why might a DNS lookup fail?
                                </button>
                            </h2>
                            <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#dnsLookupFAQ">
                                <div class="accordion-body">
                                    DNS lookup failures can occur due to various reasons including incorrect domain name, DNS server issues, network connectivity problems, firewall blocking, or the domain not being properly configured. Our tool helps identify the specific cause of the failure.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}